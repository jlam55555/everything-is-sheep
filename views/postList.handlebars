<i class="fa fa-search" id="searchIcon"></i>
<div id="search">
  <input id="searchBar" class="center" placeholder="Search posts"{{#if searchString}} value="{{searchString}}"{{/if}}>
  <select id="searchType">
    <option value="date_desc" {{checkSelect "date_desc"}}>Date (new-old)</option>
    <option value="date_asc" {{checkSelect "date_asc"}}>Date (old-new)</option>
    <option value="title_asc" {{checkSelect "title_asc"}}>Title (A-Z)</option>
    <option value="title_desc" {{checkSelect "title_desc"}}>Title (Z-A)</option>
    <option value="views_desc" {{checkSelect "views_desc"}}>Views (most-least)</option>
    <option value="views_asc" {{checkSelect "views_asc"}}>Views (least-most)</option>
  </select>
</div>
<div id="mainSearchHint">
  Press <kbd>Enter</kbd> to search.
  Search by:
  <ul>
    <li>Post titles: <a class="imgLink" title="Try it!" href="/search/Losing is Winning"><code>Losing is Winning</code></a></li>
    <li>Post dates (exactly as seen): <a class="imgLink" title="Try it!" href="/search/07%2F18%2F17"><code>07/18/17</code></a></li>
    <li>Post content: <a class="imgLink" title="Try it!" href="/search/I'm a little slaphappy right now so this sloppy brain-dump of a post may sound waffly"><code>I'm a little slaphappy right now so this sloppy brain-dump of a post may sound waffly</code></a></li>
    <li>Post tags(s): <a class="imgLink" title="Try it!" href="/search/[essay][brain-dump]"><code>[essay][brain-dump]</code></a></li>
  </ul>
  You may combine tag searches with any of the other search types (e.g., <a class="imgLink" title="Try it!" href="/search/[essay]Winning"><code>[essay]Winning</code></a>). Only posts that include <em>all</em> of the search elements provided will be shown.
</div>
{{#if searchString}}
  <div id="searchString" class="center">{{postNumber}} post{{sIfNotOne}} found for search "{{{formatSearchString}}}."<br>View <a title="View all posts" href="/posts">all posts</a>?</div>
{{/if}}
<div id="postViews">
  {{#if searchString}}
    {{#each searchList}}
      <a class="imgLink postView" href="/posts/{{filename}}" title="View post &quot;{{title}}&quot;">
        <div class="postListPostHeader">
          <img src="{{author.profilePicture}}" class="postViewAuthorPicture">
          <h2 class="postViewTitle">{{{searchTitle ../searchString}}} <span class="smallText">{{{searchDate ../searchString}}}</span></h2>
          <h3 class="postViewAuthor">{{author.name}}</h2>
          <p>Tagged: {{#each tags}}<span class="tag">{{{searchTag ../../searchString}}}</span> {{/each}}</p>
        </div>
        <p class="postViewPreview">{{{searchPreview ../searchString}}}</p>
      </a>
    {{/each}}
  {{else}}
    {{#each postList}}
      <a class="imgLink postView" href="/posts/{{filename}}" title="View post &quot;{{title}}&quot;">
        <div class="postListPostHeader">
          <img src="{{author.profilePicture}}" class="postViewAuthorPicture">
          <h2 class="postViewTitle">{{title}} <span class="smallText">{{date}}</span></h2>
          <h3 class="postViewAuthor">{{author.name}}</h2>
          <p>Tagged: {{#each tags}}<span class="tag">{{this}}</span>{{#if @last}}{{else}} {{/if}}{{/each}}</p>
        </div>
        <p class="postViewPreview">{{{preview}}}</p>
      </a>
    {{/each}}
  {{/if}}
</div>
