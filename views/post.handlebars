<div id='postHeader'>
  <div class='container'>
    <div id='postMainInfo'>
      <img src="{{author.profilePicture}}" id="postAuthorPicture">
      <div id='postMainInfoTitleAuthor'>
        <h1 id="postTitle">{{title}}</h1>
        <h3 id="postAuthor">By <a href="/authors/{{author.filename}}" title="View author {{author.name}}">{{author.name}}</a> on {{formatDate}}</h3>
      </div>
    </div>
    <p id="postTags">Tagged: {{#each tags}}<span class="tag clickable">{{this}}</span>{{#if @last}}{{else}} {{/if}}{{/each}}</p>
    <p id='postAdjacentPosts'>{{{previousNextPost}}}</p>
    <div class="shareIcons mobile no-print">
      <br>
      <a href="/feed.xml" class="shareIcon" title="Subscribe to RSS feed"><i class="fa fa-rss fa-fw"></i></a>
      <a class="shareIcon" title="Share on Facebook"><i class="fa fa-facebook-official fa-fw"></i></a>
      <a class="shareIcon" title="Tweet this"><i class="fa fa-twitter fa-fw"></i></a>
      <a class="shareIcon" title="Print article" href><i class="fa fa-print fa-fw"></i></a>
    </div>
  </div>
</div>
<div id="postBody">
  <div class='container'>
    {{#if imageUrl}}
      <img src="{{imageUrl}}" id="postImage">
    {{/if}}
    {{{formatPost}}}
  </div>
</div>
</div>
<div id='postFooter'>
  <div id='postFooterContainer' class='container'>
    <h3>Comments</h3>
    <div id="writeComment" class='no-print'>
      <p>Write a comment</p>
      <div id="commentError"></div>
      <input type="text" id="commentName" placeholder="Name" maxlength="50">
      <textarea id="commentText" placeholder="Comment" maxlength="500"></textarea>
      <button id="submitComment">Submit</button>
    </div>
    {{#each comments}}
      <div class="comment">
        <div class="commentDate">@ {{formatCommentDate}}</div>
        <div class="commentName">{{name}}</div>
        <div class="commentText">{{{comment}}}</div>
      </div>
    {{else}}
      <p>No comments for this post.</p>
    {{/each}}
    <p>This post has {{hitcount}} views. Return <a href="/" title="Return home">home</a>.</p>
    {{{previousNextPost}}}
  </div>
</div>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/zenburn.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
  const outsideUrls = [ 'ht', '//' ];
  $('#postBody a').each((i, linkElem) => {
    if(outsideUrls.indexOf(linkElem.href.slice(0, 2)) >= 0)
      linkElem.target = '_blank';
  });
</script>
